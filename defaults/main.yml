---
thanos_version: 0.17.0
thanos_podman_network: podman
thanos_hostname: thanos
thanos_domain: example.com
thanos_base_dir: /var/lib/containers
thanos_web_port: 10902
thanos_grpc_port: 10901
thanos_query_replicas: 2
thanos_memcached_enabled: false
thanos_index_cache_config: []
thanos_sidecars: []
#thanos_sidecars:
#  - prometheus-sidecar.example.com:10901
thanos_query_command:
  - query
  - '--http-address=0.0.0.0:{{ thanos_web_port }}'
  - '--grpc-address=0.0.0.0:{{ thanos_grpc_port }}'
  - '--query.replica-label={{ thanos_query_replica_label }}'
  - '--store={{ thanos_store_ip }}:{{ thanos_grpc_port }}'
thanos_query_replica_label: prometheus_replica
thanos_store: false # Deploy Thanos store
thanos_store_command:
  - store
  - --data-dir=/data
  - |
    --objstore.config=type: S3 
    config:
      bucket: thanos
      region: us-east-1
      endpoint: s3.example.com
      access_key: secret
      secret_key: secret
      insecure: false
      signature_version2: false
thanos_compact_command:
  - compact
  - --data-dir=/tmp/thanos-compact
  - --wait
  - |
    --objstore.config=type: S3 
    config:
      bucket: thanos
      region: us-east-1
      endpoint: s3.example.com
      access_key: secret
      secret_key: secret
      insecure: false
      signature_version2: false
